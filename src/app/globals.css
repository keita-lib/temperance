@import "tailwindcss";

:root {
  --background: #f9fafb;
  --foreground: #0f172a;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: "Noto Sans JP", "Hiragino Sans", "Yu Gothic", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  min-height: 100vh;
}

button:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid #0ea5e9;
  outline-offset: 2px;
}

.coin-animation {
  pointer-events: none;
  position: fixed;
  inset: 0;
  z-index: 40;
  overflow: hidden;
}

.coin-animation__coin {
  position: absolute;
  top: -48px;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #fef9c3 0%, #fde047 45%, #f59e0b 100%);
  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.25);
  border: 2px solid rgba(248, 250, 252, 0.35);
  --coin-ground: calc(100vh - 56px);
  animation: coinDrop var(--coin-duration, 2.4s) linear forwards;
  transform-origin: 50% 50%;
}

.coin-animation__coin::after {
  content: "";
  position: absolute;
  inset: 4px;
  border-radius: 50%;
  border: 1px solid rgba(254, 243, 199, 0.8);
  box-shadow: inset 0 0 8px rgba(255, 255, 255, 0.6);
}

@keyframes coinDrop {
  0% {
    opacity: 0;
    transform: translateX(var(--coin-offset, 0px)) translateY(-140px)
      scale(calc(var(--coin-scale, 1) * 0.85)) rotateY(0deg);
  }
  6% {
    opacity: 0.6;
    transform: translateX(var(--coin-offset, 0px)) translateY(-120px)
      scale(calc(var(--coin-scale, 1) * 0.88)) rotateY(80deg);
  }
  14% {
    opacity: 0.85;
    transform: translateX(var(--coin-offset, 0px)) translateY(-70px)
      scale(calc(var(--coin-scale, 1) * 0.92)) rotateY(140deg);
  }
  24% {
    opacity: 1;
    transform: translateX(var(--coin-offset, 0px)) translateY(-10px)
      scale(var(--coin-scale, 1)) rotateY(200deg);
  }
  32% {
    transform: translateX(var(--coin-offset, 0px)) translateY(var(--coin-ground))
      scale(var(--coin-scale, 1)) rotateY(250deg);
  }
  36% {
    transform: translateX(var(--coin-offset, 0px))
      translateY(calc(var(--coin-ground) - 30px))
      scale(calc(var(--coin-scale, 1) * 0.94)) rotateY(280deg);
  }
  40% {
    transform: translateX(var(--coin-offset, 0px))
      translateY(calc(var(--coin-ground) - 60px))
      scale(calc(var(--coin-scale, 1) * 0.9)) rotateY(300deg);
  }
  45% {
    transform: translateX(var(--coin-offset, 0px))
      translateY(calc(var(--coin-ground) - 70px))
      scale(calc(var(--coin-scale, 1) * 0.88)) rotateY(320deg);
  }
  50% {
    transform: translateX(var(--coin-offset, 0px))
      translateY(calc(var(--coin-ground) - 40px))
      scale(calc(var(--coin-scale, 1) * 0.92)) rotateY(330deg);
  }
  55% {
    transform: translateX(var(--coin-offset, 0px))
      translateY(calc(var(--coin-ground) - 10px))
      scale(var(--coin-scale, 1)) rotateY(340deg);
  }
  58% {
    transform: translateX(var(--coin-offset, 0px)) translateY(var(--coin-ground))
      scale(var(--coin-scale, 1)) rotateY(350deg);
  }
  62% {
    transform: translateX(var(--coin-offset, 0px))
      translateY(calc(var(--coin-ground) - 15px))
      scale(calc(var(--coin-scale, 1) * 0.96)) rotateY(10deg);
  }
  66% {
    transform: translateX(var(--coin-offset, 0px))
      translateY(calc(var(--coin-ground) - 30px))
      scale(calc(var(--coin-scale, 1) * 0.94)) rotateY(40deg);
  }
  70% {
    transform: translateX(var(--coin-offset, 0px))
      translateY(calc(var(--coin-ground) - 35px))
      scale(calc(var(--coin-scale, 1) * 0.92)) rotateY(70deg);
  }
  74% {
    transform: translateX(var(--coin-offset, 0px))
      translateY(calc(var(--coin-ground) - 20px))
      scale(calc(var(--coin-scale, 1) * 0.95)) rotateY(110deg);
  }
  78% {
    transform: translateX(var(--coin-offset, 0px)) translateY(var(--coin-ground))
      scale(var(--coin-scale, 1)) rotateY(140deg);
  }
  82% {
    transform: translateX(var(--coin-offset, 0px))
      translateY(calc(var(--coin-ground) - 10px))
      scale(calc(var(--coin-scale, 1) * 0.96)) rotateY(200deg);
  }
  86% {
    transform: translateX(var(--coin-offset, 0px))
      translateY(calc(var(--coin-ground) - 17px))
      scale(calc(var(--coin-scale, 1) * 0.94)) rotateY(240deg);
  }
  90% {
    transform: translateX(var(--coin-offset, 0px))
      translateY(calc(var(--coin-ground) - 5px))
      scale(calc(var(--coin-scale, 1) * 0.97)) rotateY(280deg);
  }
  94% {
    transform: translateX(var(--coin-offset, 0px)) translateY(var(--coin-ground))
      scale(var(--coin-scale, 1)) rotateY(320deg);
  }
  100% {
    opacity: 0;
    transform: translateX(var(--coin-offset, 0px)) translateY(calc(var(--coin-ground) + 60px))
      scale(var(--coin-scale, 1)) rotateY(360deg);
  }
}
